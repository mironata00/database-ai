<!DOCTYPE html>
<html>
<head><title>CORS Test</title></head>
<body>
<h1>Тест подключения к Database AI</h1>
<button onclick="testConnection()">Проверить связь</button>
<pre id="result"></pre>

<script>
async function testConnection() {
  const result = document.getElementById('result');
  result.textContent = 'Проверка...\n';
  
  try {
    result.textContent += 'Шаг 1: Тест DNS...\n';
    
    result.textContent += 'Шаг 2: Отправка запроса...\n';
    const response = await fetch('https://42b79e5f4529.vps.myjino.ru:49358/api/supplier-requests/', {
      method: 'OPTIONS',
      headers: {
        'Origin': 'https://www.database-ai.ru'
      }
    });
    
    result.textContent += 'Шаг 3: Получен ответ: ' + response.status + '\n';
    result.textContent += 'Headers: ' + JSON.stringify([...response.headers], null, 2) + '\n';
    result.textContent += '\n✅ СВЯЗЬ РАБОТАЕТ!\n';
  } catch (error) {
    result.textContent += '\n❌ ОШИБКА: ' + error.message + '\n';
    result.textContent += 'Тип ошибки: ' + error.name + '\n';
  }
}
</script>
</body>
</html>